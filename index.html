<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base de Jogadores</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; background-color: #f4f4f4; }
        h1 { color: #333; font-weight: bold; }
        .container { max-width: 1200px; margin: 0 auto; }
        form { background: white; padding: 20px; border-radius: 8px; box-shadow: 0px 0px 10px rgba(0,0,0,0.1); display: inline-block; }
        input, button { margin: 5px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
        button { background-color: #28a745; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #218838; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0px 0px 10px rgba(0,0,0,0.1); }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: center; }
        th { background-color: #007bff; color: white; font-weight: bold; }
        tr:nth-child(even) { background-color: #f2f2f2; }
        tr:hover { background-color: #ddd; }
        .favorito { background-color: #ffc107; }
        .ranking { background-color: #17a2b8; color: white; }
        .detalhes { color: #007bff; text-decoration: none; cursor: pointer; }
        .logo { width: 200px; display: block; margin: 0 auto 20px; }
        .filters { margin: 20px 0; display: flex; justify-content: center; gap: 10px; }
        .filters input { padding: 10px; border-radius: 5px; width: 150px; }
        .favorite-btn { background-color: #ffc107; color: white; cursor: pointer; border: none; }
        .favorite-btn:hover { background-color: #e0a800; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Base de Jogadores</h1>
        <div class="filters">
            <input type="text" id="search" placeholder="Buscar por nome">
            <input type="text" id="filterPosition" placeholder="Filtrar por Posição">
            <input type="number" id="filterYear" placeholder="Ano de Nascimento">
            <button onclick="exportData()">Exportar para CSV</button>
        </div>
        <form id="playerForm">
            <input type="text" id="name" placeholder="Nome" required>
            <input type="text" id="position" placeholder="Posição" required>
            <input type="text" id="guardian" placeholder="Nome do Responsável" required>
            <input type="tel" id="contact" placeholder="Contato" required>
            <input type="date" id="dob" required>
            <input type="text" id="history" placeholder="Histórico dos Clubes" required>
            <input type="file" id="document" accept=".pdf,.jpg,.png">
            <button type="submit">Adicionar Jogador</button>
        </form>

        <table>
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Posição</th>
                    <th>Responsável</th>
                    <th>Contato</th>
                    <th>Data de Nascimento</th>
                    <th>Histórico</th>
                    <th>Documento</th>
                    <th>Ações</th>
                    <th>Favoritar</th>
                    <th>Ranking</th>
                </tr>
            </thead>
            <tbody id="playerList"></tbody>
        </table>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const playerForm = document.getElementById("playerForm");
            const playerList = document.getElementById("playerList");

            function loadPlayers() {
                const players = JSON.parse(localStorage.getItem("players")) || [];
                playerList.innerHTML = "";
                players.forEach((player, index) => {
                    addPlayerToTable(player, index);
                });
            }

            function savePlayers(players) {
                localStorage.setItem("players", JSON.stringify(players));
            }

            function addPlayerToTable(player, index) {
                let row = playerList.insertRow();
                row.insertCell(0).innerText = player.name;
                row.insertCell(1).innerText = player.position;
                row.insertCell(2).innerText = player.guardian;
                row.insertCell(3).innerText = player.contact;
                row.insertCell(4).innerText = player.dob;
                row.insertCell(5).innerText = player.history;
                let docCell = row.insertCell(6);
                if (player.document) {
                    let docLink = document.createElement("a");
                    docLink.href = player.document;
                    docLink.innerText = "Baixar Documento";
                    docLink.download = player.documentName;
                    docLink.target = "_blank";
                    docCell.appendChild(docLink);
                } else {
                    docCell.innerText = "Nenhum";
                }

                let actionsCell = row.insertCell(7);
                let editButton = document.createElement("button");
                editButton.innerText = "Editar";
                editButton.onclick = function () {
                    editPlayer(index);
                };
                actionsCell.appendChild(editButton);

                let deleteCell = row.insertCell(8);
                let deleteButton = document.createElement("button");
                deleteButton.innerText = "Remover";
                deleteButton.style.backgroundColor = "#dc3545";
                deleteButton.onclick = function () {
                    removePlayer(index);
                };
                deleteCell.appendChild(deleteButton);

                let favoriteCell = row.insertCell(9);
                let favoriteButton = document.createElement("button");
                favoriteButton.innerText = "Favoritar";
                favoriteButton.classList.add("favorite-btn");
                favoriteButton.onclick = function () {
                    toggleFavorite(index);
                };
                favoriteCell.appendChild(favoriteButton);

                let rankingCell = row.insertCell(10);
                rankingCell.innerText = player.isFavorite ? "Favorito" : "N/A";
                rankingCell.classList.add(player.isFavorite ? "ranking" : "");
            }

            function removePlayer(index) {
                let players = JSON.parse(localStorage.getItem("players")) || [];
                players.splice(index, 1);
                savePlayers(players);
                loadPlayers();
            }

            function editPlayer(index) {
                let players = JSON.parse(localStorage.getItem("players")) || [];
                let player = players[index];
                document.getElementById("name").value = player.name;
                document.getElementById("position").value = player.position;
                document.getElementById("guardian").value = player.guardian;
                document.getElementById("contact").value = player.contact;
                document.getElementById("dob").value = player.dob;
                document.getElementById("history").value = player.history;
                document.getElementById("playerForm").onsubmit = function (event) {
                    event.preventDefault();
                    player.name = document.getElementById("name").value;
                    player.position = document.getElementById("position").value;
                    player.guardian = document.getElementById("guardian").value;
                    player.contact = document.getElementById("contact").value;
                    player.dob = document.getElementById("dob").value;
                    player.history = document.getElementById("history").value;
                    savePlayers(players);
                    loadPlayers();
                    playerForm.reset();
                };
            }

            function toggleFavorite(index) {
                let players = JSON.parse(localStorage.getItem("players")) || [];
                let player = players[index];
                player.isFavorite = !player.isFavorite;
                savePlayers(players);
                loadPlayers();
            }

            function exportData() {
                let players = JSON.parse(localStorage.getItem("players")) || [];
                let csv = "Nome,Posição,Responsável,Contato,Data de Nascimento,Histórico\n";
                players.forEach(player => {
                    csv += `${player.name},${player.position},${player.guardian},${player.contact},${player.dob},${player.history}\n`;
                });
                let blob = new Blob([csv], { type: 'text/csv' });
                let link = document.createElement("a");
                link.href = URL.createObjectURL(blob);
                link.download = "jogadores.csv";
                link.click();
            }

            function filterPlayers() {
                let players = JSON.parse(localStorage.getItem("players")) || [];
                let searchQuery = document.getElementById("search").value.toLowerCase();
                let filterPosition = document.getElementById("filterPosition").value.toLowerCase();
                let filterYear = document.getElementById("filterYear").value;

                playerList.innerHTML = "";
                players.forEach((player, index) => {
                    if (
                        (player.name.toLowerCase().includes(searchQuery) || !searchQuery) &&
                        (player.position.toLowerCase().includes(filterPosition) || !filterPosition) &&
                        (player.dob.includes(filterYear) || !filterYear)
                    ) {
                        addPlayerToTable(player, index);
                    }
                });
            }

            playerForm.addEventListener("submit", function (event) {
                event.preventDefault();
                let name = document.getElementById("name").value;
                let position = document.getElementById("position").value;
                let guardian = document.getElementById("guardian").value;
                let contact = document.getElementById("contact").value;
                let dob = document.getElementById("dob").value;
                let history = document.getElementById("history").value;
                let documentInput = document.getElementById("document");
                let documentUrl = "";
                let documentName = "";
                if (documentInput.files.length > 0) {
                    let file = documentInput.files[0];
                    documentUrl = URL.createObjectURL(file);
                    documentName = file.name;
                }
                let players = JSON.parse(localStorage.getItem("players")) || [];
                players.push({ name, position, guardian, contact, dob, history, document: documentUrl, documentName });
                savePlayers(players);
                loadPlayers();
                playerForm.reset();
            });

            document.getElementById("search").addEventListener("input", filterPlayers);
            document.getElementById("filterPosition").addEventListener("input", filterPlayers);
            document.getElementById("filterYear").addEventListener("input", filterPlayers);

            loadPlayers();
        });
    </script>
</body>
</html>



